<style>th {background-color: yellow;} table {width: 100%; height: 300px;}</style>
<a id="a" href="takistused_t.html"></a><table>
<tr>
<th onclick="n39()" id="a1"></th>
<th onclick="n39()" id="a2"></th>
<th onclick="n39()" id="a3"></th>
<th onclick="n39()" id="a4"></th>
<th onclick="n39()" id="a5"></th>
<th onclick="n37()" id="a6"></th>
<th onclick="n37()" id="a7"></th>
<th onclick="n37()" id="a8"></th>
<th onclick="n37()" id="a9"></th>
<th onclick="n37()" id="a10"></th>
</tr>
<tr>
<th onclick="n39()" id="b1"></th>
<th onclick="n39()" id="b2"></th>
<th onclick="n39()" id="b3"></th>
<th onclick="n39()" id="b4"></th>
<th onclick="n39()" id="b5"></th>
<th onclick="n37()" id="b6"></th>
<th onclick="n37()" id="b7"></th>
<th onclick="n37()" id="b8"></th>
<th onclick="n37()" id="b9"></th>
<th onclick="n37()" id="b10"></th>
</tr>
<tr>
<th onclick="n39()" id="c1"></th>
<th onclick="n39()" id="c2"></th>
<th onclick="n39()" id="c3"></th>
<th onclick="n39()" id="c4"></th>
<th onclick="n39()" id="c5"></th>
<th onclick="n37()" id="c6"></th>
<th onclick="n37()" id="c7"></th>
<th onclick="n37()" id="c8"></th>
<th onclick="n37()" id="c9"></th>
<th onclick="n37()" id="c10"></th>
</tr>
<tr>
<th onclick="n39()" id="d1"></th>
<th onclick="n39()" id="d2"></th>
<th onclick="n39()" id="d3"></th>
<th onclick="n39()" id="d4"></th>
<th onclick="n39()" id="d5"></th>
<th onclick="n37()" id="d6"></th>
<th onclick="n37()" id="d7"></th>
<th onclick="n37()" id="d8"></th>
<th onclick="n37()" id="d9"></th>
<th onclick="n37()" id="d10"></th>
</tr>
<tr>
<th onclick="n39()" id="e1"></th>
<th onclick="n39()" id="e2"></th>
<th onclick="n39()" id="e3"></th>
<th onclick="n39()" id="e4"></th>
<th onclick="n39()" id="e5"></th>
<th onclick="n37()" id="e6"></th>
<th onclick="n37()" id="e7"></th>
<th onclick="n37()" id="e8"></th>
<th onclick="n37()" id="e9"></th>
<th onclick="n37()" id="e10"></th>
</tr>
</table>
<input id="vorm"><p id="pea"  style="display: none;"></p>
<script>
var kiirus = 1000;
var nupp = 5;
allaules(nupp);
var input = document.getElementById("vorm");
function n37() {
  var an = document.getElementById("pea").innerHTML;
  var num1 = ["", 2, 3, 4, 5, 6, 7, 8, 9, 10];
  allaules(num1[an]);
}
function n39() {
  var an = document.getElementById("pea").innerHTML;
  var num2 = ["", "", 1, 2, 3, 4, 5, 6, 7, 8, 9];
  allaules(num2[an]);
}
jargminerida();
function allaules(nupp) {
   document.getElementById("a" + nupp).style.backgroundColor = "orange";
   document.getElementById("pea").innerHTML = nupp;
   if (nupp !== 1) {document.getElementById("a1").style.backgroundColor = "yellow";}
   if (nupp !== 2) {document.getElementById("a2").style.backgroundColor = "yellow";}
   if (nupp !== 3) {document.getElementById("a3").style.backgroundColor = "yellow";}
   if (nupp !== 4) {document.getElementById("a4").style.backgroundColor = "yellow";}
   if (nupp !== 5) {document.getElementById("a5").style.backgroundColor = "yellow";}
   if (nupp !== 6) {document.getElementById("a6").style.backgroundColor = "yellow";}
   if (nupp !== 7) {document.getElementById("a7").style.backgroundColor = "yellow";}
   if (nupp !== 8) {document.getElementById("a8").style.backgroundColor = "yellow";}
   if (nupp !== 9) {document.getElementById("a9").style.backgroundColor = "yellow";}
   if (nupp !== 10) {document.getElementById("a10").style.backgroundColor = "yellow";}
   var suvanum = Math.floor(Math.random() * 10) + 1;
   document.getElementById("e" + suvanum).style.backgroundColor = "blue";
}
a();
function a() {document.getElementById("vorm").focus(); setTimeout(a, 1);}
function jargminerida() {
   if (document.getElementById("b" + document.getElementById("pea").innerHTML).style.backgroundColor == "blue") {kiirus = kiirus + 300}
   if (document.getElementById("b" + document.getElementById("pea").innerHTML).style.backgroundColor == "red") {alert("vale"); document.getElementById("a").click();}
   document.getElementById("b1").style.backgroundColor = "yellow";
   document.getElementById("b2").style.backgroundColor = "yellow";
   document.getElementById("b3").style.backgroundColor = "yellow";
   document.getElementById("b4").style.backgroundColor = "yellow";
   document.getElementById("b5").style.backgroundColor = "yellow";
   document.getElementById("b6").style.backgroundColor = "yellow";
   document.getElementById("b7").style.backgroundColor = "yellow";
   document.getElementById("b8").style.backgroundColor = "yellow";
   document.getElementById("b9").style.backgroundColor = "yellow";
   document.getElementById("b10").style.backgroundColor = "yellow";
   var c1 = document.getElementById("c1").style.backgroundColor;
   var c2 = document.getElementById("c2").style.backgroundColor;
   var c3 = document.getElementById("c3").style.backgroundColor;
   var c4 = document.getElementById("c4").style.backgroundColor;
   var c5 = document.getElementById("c5").style.backgroundColor;
   var c6 = document.getElementById("c6").style.backgroundColor;
   var c7 = document.getElementById("c7").style.backgroundColor;
   var c8 = document.getElementById("c8").style.backgroundColor;
   var c9 = document.getElementById("c9").style.backgroundColor;
   var c10 = document.getElementById("c10").style.backgroundColor;
   document.getElementById("b1").style.backgroundColor = c1;
   document.getElementById("b2").style.backgroundColor = c2;
   document.getElementById("b3").style.backgroundColor = c3;
   document.getElementById("b4").style.backgroundColor = c4;
   document.getElementById("b5").style.backgroundColor = c5;
   document.getElementById("b6").style.backgroundColor = c6;
   document.getElementById("b7").style.backgroundColor = c7;
   document.getElementById("b8").style.backgroundColor = c8;
   document.getElementById("b9").style.backgroundColor = c9;
   document.getElementById("c10").style.backgroundColor = c10;
   document.getElementById("c1").style.backgroundColor = "yellow";
   document.getElementById("c2").style.backgroundColor = "yellow";
   document.getElementById("c3").style.backgroundColor = "yellow";
   document.getElementById("c4").style.backgroundColor = "yellow";
   document.getElementById("c5").style.backgroundColor = "yellow";
   document.getElementById("c6").style.backgroundColor = "yellow";
   document.getElementById("c7").style.backgroundColor = "yellow";
   document.getElementById("c8").style.backgroundColor = "yellow";
   document.getElementById("c9").style.backgroundColor = "yellow";
   document.getElementById("c10").style.backgroundColor = "yellow";
   var d1 = document.getElementById("d1").style.backgroundColor;
   var d2 = document.getElementById("d2").style.backgroundColor;
   var d3 = document.getElementById("d3").style.backgroundColor;
   var d4 = document.getElementById("d4").style.backgroundColor;
   var d5 = document.getElementById("d5").style.backgroundColor;
   var d6 = document.getElementById("d6").style.backgroundColor;
   var d7 = document.getElementById("d7").style.backgroundColor;
   var d8 = document.getElementById("d8").style.backgroundColor;
   var d9 = document.getElementById("d9").style.backgroundColor;
   var d10 = document.getElementById("d10").style.backgroundColor;
   document.getElementById("c1").style.backgroundColor = d1;
   document.getElementById("c2").style.backgroundColor = d2;
   document.getElementById("c3").style.backgroundColor = d3;
   document.getElementById("c4").style.backgroundColor = d4;
   document.getElementById("c5").style.backgroundColor = d5;
   document.getElementById("c6").style.backgroundColor = d6;
   document.getElementById("c7").style.backgroundColor = d7;
   document.getElementById("c8").style.backgroundColor = d8;
   document.getElementById("c9").style.backgroundColor = d9;
   document.getElementById("c10").style.backgroundColor = d10;
   document.getElementById("d1").style.backgroundColor = "yellow";
   document.getElementById("d2").style.backgroundColor = "yellow";
   document.getElementById("d3").style.backgroundColor = "yellow";
   document.getElementById("d4").style.backgroundColor = "yellow";
   document.getElementById("d5").style.backgroundColor = "yellow";
   document.getElementById("d6").style.backgroundColor = "yellow";
   document.getElementById("d7").style.backgroundColor = "yellow";
   document.getElementById("d8").style.backgroundColor = "yellow";
   document.getElementById("d9").style.backgroundColor = "yellow";
   document.getElementById("d10").style.backgroundColor = "yellow";
   var e1 = document.getElementById("e1").style.backgroundColor;
   var e2 = document.getElementById("e2").style.backgroundColor;
   var e3 = document.getElementById("e3").style.backgroundColor;
   var e4 = document.getElementById("e4").style.backgroundColor;
   var e5 = document.getElementById("e5").style.backgroundColor;
   var e6 = document.getElementById("e6").style.backgroundColor;
   var e7 = document.getElementById("e7").style.backgroundColor;
   var e8 = document.getElementById("e8").style.backgroundColor;
   var e9 = document.getElementById("e9").style.backgroundColor;
   var e10 = document.getElementById("e10").style.backgroundColor;
   document.getElementById("d1").style.backgroundColor = e1;
   document.getElementById("d2").style.backgroundColor = e2;
   document.getElementById("d3").style.backgroundColor = e3;
   document.getElementById("d4").style.backgroundColor = e4;
   document.getElementById("d5").style.backgroundColor = e5;
   document.getElementById("d6").style.backgroundColor = e6;
   document.getElementById("d7").style.backgroundColor = e7;
   document.getElementById("d8").style.backgroundColor = e8;
   document.getElementById("d9").style.backgroundColor = e9;
   document.getElementById("d10").style.backgroundColor = e10;
   document.getElementById("e1").style.backgroundColor = "yellow";
   document.getElementById("e2").style.backgroundColor = "yellow";
   document.getElementById("e3").style.backgroundColor = "yellow";
   document.getElementById("e4").style.backgroundColor = "yellow";
   document.getElementById("e5").style.backgroundColor = "yellow";
   document.getElementById("e6").style.backgroundColor = "yellow";
   document.getElementById("e7").style.backgroundColor = "yellow";
   document.getElementById("e8").style.backgroundColor = "yellow";
   document.getElementById("e9").style.backgroundColor = "yellow";
   document.getElementById("e10").style.backgroundColor = "yellow";
   var suvanum2 = Math.floor(Math.random() * 10) + 1;
   document.getElementById("e" + suvanum2).style.backgroundColor = "red";
   var suvanum3 = Math.floor(Math.random() * 10) + 1;
   document.getElementById("e" + suvanum3).style.backgroundColor = "blue";
   var suvanum4 = Math.floor(Math.random() * 10) + 1;
   document.getElementById("e" + suvanum4).style.backgroundColor = "red";
   var suvanum5 = Math.floor(Math.random() * 10) + 1;
   document.getElementById("e" + suvanum5).style.backgroundImage = "https://www.byroomaailm.ee/media/catalog/product/cache/image/700x700/e9c3970ab036de70892d86c6d221abfe/K/0/K0016812.gif";
   if (800 < kiirus) {kiirus = kiirus - 30;}
   if (600 < kiirus && 800 > kiirus) {kiirus = kiirus - 15;}
   if (400 < kiirus && 600 > kiirus) {kiirus = kiirus - 10;}
   if (300 < kiirus && 400 > kiirus) {kiirus = kiirus - 4;}
   if (300 > kiirus && 1 < kiirus) {kiirus = kiirus - 1;}  
   if (kiirus == 1) {}
   document.getElementById("vorm").value = kiirus;
   setTimeout(jargminerida, kiirus);
}
</script>

<p id="pea"></p>
